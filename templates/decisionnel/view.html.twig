{% extends 'base.html.twig' %}
{% block title %}{{ title }}{% endblock %}
{% block body %}

<!-- début card avertissement -->
<div class="card collapsed-card card-info">
    <div class="card-header">
        <h3 class="card-title"><i class="icon fas fa-info-circle"></i> Informations</h3>
        <div class="card-tools">
            <button type="button" class="btn btn-tool" data-card-widget="collapse"><i class="fas fa-minus"></i></button>
        </div>
    </div>
    <div class="card-body">
    <p>Si vous souhaitez modifier votre requête, rendez vous sur <a href="{{path('app_decisionnel')}}" class="nav-link">cette page</a> et cliquez sur le crayon à coté de votre décisionnel.</p> </br>
    </div>
</div>
<!-- fin card avertissement -->

<div class="row">
    <div class="col-md-12">
        <div class="card card-dark">
            <!-- Début entête avec les filtres à appliquer-->
            <div class="card-header d-flex justify-content-between flex-wrap">
                <div class="d-flex flex-column flex-wrap">
                <h3 class="card-title">Décisionnel {{ DonneesDecisionnel.nom }}
                    <small class="text-secondary font-italic">by {{ DonneesDecisionnel.user.pseudo }}
                    </small>              
                </h3>
                <p class="card-subtitle mt-2"> Pour les fournisseurs :
                {% for fournisseur in DonneesDecisionnel.fournisseurs %}
                    {{ fournisseur.nom}} ,
                {% endfor %}
                </p>
                </div> 
                {{ form_start(DateDebutFinForm, { 'attr' : { 'class' : 'ml-auto' }} ) }}
                    <div class='d-flex flex-wrap row'>                        
                        
                        <div class="pl-2 ">
                    <a href="{{ path('app_decisionnel') }}" class="badge badge-success ml-auto">Retourner à la liste décisionnel</a> 
                        </div> 
                        <div class="p-1 text-center">
                            {{ form_label(DateDebutFinForm.dates) }}
                            </div>
                        <div class="p-1 text-center">
                            
                            {{ form_widget(DateDebutFinForm.dates, {'id' : 'reservation',  'attr' : { 'class' : 'form-control' }} ) }}
                        </div>
                        <div class="p-1">
                            {{ form_row(DateDebutFinForm.filtrer, { 'attr' : { 'class' : 'btn btn-xl btn-secondary' }} ) }}
                        </div>
                    </div>
                {{ form_end(DateDebutFinForm) }}
            </div>
            <!-- fin entête avec les filtres à appliquer-->

            <!-- Début tableau avec le détail client-->
            <div class="card-body">
                {% if statesArticles %}
                
                    <table id="example1" class="table table-bordered table-striped">
                        <thead>
                            <tr>
                                <th class="text-center"><span>Référence</span></th>
                                <th class="text-center"><span>Désignation</span></th>
                                <th class="text-center"><span>Sref1</span></th>
                                <th class="text-center"><span>Sref2</span></th>  
                                <th class="text-center"><span>Uv</span></th>
                                <th class="text-center"><span>Stock</span></th>
                                <th class="text-center"><span>Qte Facturé</span></th>
                                <th class="text-center"><span>En cmd client</span></th>
                                <th class="text-center"><span>En cmd Fou</span></th>
                                <th class="text-center"><span>Proposition</span></th>
                            </tr>
                        </thead>
                        <tbody>
                            {% if statesArticles %}
                            
                            {% for Article in statesArticles %}
                                         <tr>
                                            <td class="text-center">
                                                <a class="text-dark">{{ Article.Ref}}</a>
                                            </td>
                                            <td class="">
                                                <a class="text-dark">{{ Article.Designation }}</a>
                                            </td>
                                            <td class="text-center">
                                                <a class="text-dark">{{ Article.Sref1 }}</a>
                                            </td>
                                            <td class="text-center">
                                                <a class="text-dark">{{ Article.Sref2}}</a>
                                            </td>
                                            <td class="text-center">
                                                <a class="text-dark">{{ Article.Uv }}</a>
                                            </td>
                                            <td class="text-center">
                                                <a class="text-dark">{{ Article.Stock }}</a>
                                            </td>
                                            <td class="text-center">
                                                <a class="text-dark">{{ Article.QteSign }}</a>
                                            </td>
                                            <td class="text-center">
                                                <a class="text-dark">{{ Article.Uv }}</a>
                                            </td>
                                            <td class="text-center">
                                                <a class="text-dark">{{ Article.Uv }}</a>
                                            </td>
                                            <td class="text-center">
                                                <a class="text-dark">{{ Article.Uv }}</a>
                                            </td>                                              
                                        </tr>                              
                            {% endfor %}

                            {% endif %}
                        </tbody>
                        <tfoot>
                            <tr>
                                <th class="text-center"><span>Référence</span></th>
                                <th class="text-center"><span>Désignation</span></th>
                                <th class="text-center"><span>Sref1</span></th>
                                <th class="text-center"><span>Sref2</span></th>  
                                <th class="text-center"><span>Uv</span></th>
                                <th class="text-center"><span>Stock</span></th>
                                <th class="text-center"><span>Qte Facturé</span></th>
                                <th class="text-center"><span>En cmd client</span></th>
                                <th class="text-center"><span>En cmd Fou</span></th>
                                <th class="text-center"><span>Proposition</span></th>
                            </tr>
                        </tfoot>
                    </table>
                {% else %}
                    <div class="card-body">
                        <h4 class="text-left text-dark"><i class="fas fa-info-circle pr-2 text-primary"></i>Veuillez selectionner les dates a appliquer</h4>
                    </div>  
                {% endif %}
                </div>
                </div>
                <!-- /.row -->
                </div>
            </div>
        </div>
    </div>
</div>

{% endblock %}
